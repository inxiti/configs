; MUST TODO, BUG?, NOT ADDED?:
;   i3 workspaces, need a padding on left/right, just one space
;
; TODO: SO MUCH CLEANING UP
;   also, refactoring, restructuring, better use of variables, etc. everything.
;   add email notification, or irc
;   button that runs 'rofi -show run -display-run "[üîé]"'
;   better/different bitmap fonts
;   use colors from https://github.com/morhetz/gruvbox for icon backgrounds, etc

[settings]
include-file = /home/inxiti/.config/polybar/themes/gruvbox
screenchange-reload = true

[global/wm]
margin-top = 0
margin-bottom = 0

[spacing]
padding = 1
margin = 2

[bar/default]
; appearance
bottom = false 
border-top-size = 0
border-bottom-size = 0
border-color = ${settings/colors.border}
height = 35
width = 3440
padding-left = 2
padding-right = 3
background = ${settings/colors.background}
foreground = ${settings/colors.foreground}
monitor = DisplayPort-1

; available modules = cpu date filesystem memory i3 mpd-title mpd powermenu temperature time volume xwindow
module-margin = 0
modules-left = i3 xwindow
modules-center = mpd-title mpd
modules-right = volume date time powermenu

; system tray
; tray-position = right
; tray-transparent = false
; tray-background = ${settings/colors.background}
; tray-maxsize = 20

[module/i3]
type = internal/i3
index-sort = true
wrapping-scroll = false
format-padding = ${spacing.padding}
format-foreground = ${settings/colors.foreground}
format = "<label-state> <label-mode>"

label-padding = 41
; hostname
; format-prefix = "  shadowmoor  "
format-prefix-margin-left = ${spacing.margin}
; format-prefix = " Ôêò " ; nintendo switch
format-prefix = "  Ôèä  "
; format-prefix = " ÔÖ∫ "
; format-prefix = " Ôáê "
label-focused = " ÔÅò %index% "
; label-focused = "  ÔÖä  "
; label-focused = " ÔÅò "
; label-focused = " %index% "
; label-unfocused = " %{T3}ÔÑë%{T-} "
; label-unfocused = " ÔÖÄ "
label-unfocused = "  %index%  "
; label-unfocused = %{T3}ÔÉà%{T-}
; label-unfocused = " Ôëú "
; label-unfocused = " ‚Ä¢ "
; label-urgent = %index%
label-urgent = " ÔÅ™ %index% "
label-separator = "|"

format-prefix-background = ${settings/colors.i3}
format-prefix-foreground = ${settings/colors.title-foreground}
label-focused-foreground = ${settings/colors.i3-focused}
label-focused-background = ${settings/colors.label-background}
label-unfocused-foreground = ${settings/colors.i3-unfocused}
label-unfocused-background = ${settings/colors.label-background}
label-urgent-background = ${settings/colors.label-background}
label-separator-background = ${settings/colors.label-background}
label-separator-foreground = ${settings/colors.i3-separator}

[module/xwindow]
type = internal/xwindow
format-padding = ${spacing.padding}
format-prefix = "  Ôãê  "
format-prefix-font = 4
format-prefix-background = ${settings/colors.xwindow}
format-prefix-foreground = ${settings/colors.title-foreground}
label-background = ${settings/colors.label-background}
label = "  %title%  "
label-maxlen = 200

[module/mpd-title]
type = custom/text
content = "  ÔÄÅ  "
content-background = ${settings/colors.mpd-title}
content-foreground = ${settings/colors.title-foreground}
margin-left = 0
margin-right = 0

[module/mpd]
type = internal/mpd
format-online = "%{A1:playerctl play-pause:}%{A4:playerctl previous:}%{A5:playerctl next:}  <label-song> [<bar-progress>]  %{A}%{A}%{A}"
format-online-foreground = ${settings/colors.foreground}
format-online-background = ${settings/colors.label-background}
format-paused = "%{A1:playerctl play-pause:}%{A4:playerctl previous:}%{A5:playerctl next:}  <label-song> [paused]  %{A}%{A}%{A}"
format-stopped = "%{A1:playerctl play-pause:}%{A4:playerctl previous:}%{A5:playerctl next:}  [stopped]  %{A}%{A}%{A}"
label-song = "%artist% - %album% - %title%"
label-song-maxlen = 150
label-song-ellipsis = true
margin-left = 0
margin-right = 0
bar-progress-width = 8
bar-progress-empty = ‚îÄ
bar-progress-fill = ‚îÄ
bar-progress-fill-foreground = ${settings/colors.mpd-progress}
bar-progress-indicator = >
; bar-progress-indicator-foreground = ${settings/colors.mpd-progress}
bar-progress-empty-foreground = ${settings/colors.bar-empty}

; TODO: fixed precision, "  5%" instead of "5%"

[module/volume]
type = internal/alsa
; format-volume-prefix = " ÔÄ® "
; format-volume-prefix-background = ${settings/colors.volume}
; format-volume-prefix-foreground = ${settings/colors.title-foreground}
; format-volume-prefix-margin-left = ${spacing.padding}
; format-muted-prefix = " ÔÄ® "
; format-muted-prefix-background = ${settings/colors.volume}
; format-muted-prefix-margin-left = ${spacing.padding}
; format-muted-prefix-foreground = ${settings/colors.title-foreground}

ramp-volume-0 = "  ÔÄ¶  "
ramp-volume-1 = "  ÔÄß  "
ramp-volume-2 = "  ÔÄ®  "
ramp-volume-background = ${settings/colors.volume}
ramp-volume-foreground = ${settings/colors.title-foreground}

bar-volume-width = 8
bar-volume-empty = ‚îÄ
bar-volume-fill = ‚îÄ
bar-volume-indicator = ‚îÄ

bar-volume-empty-foreground = ${settings/colors.bar-empty}
bar-volume-fill-foreground = ${settings/colors.volume-progress}
bar-volume-indicator-foreground = ${settings/colors.volume-progress}
format-volume = "<ramp-volume>%{B#2e3132}  <bar-volume>  %{B-}"
format-volume-padding = 1 ; FIXME: bug? without it there is no padding between volume and date
format-muted = "<label-muted>%{B#2e3132}  %{F#1d2021}<bar-volume>%{F-}  %{B-} "

; label-volume = " %percentage%% "
; label-volume-background = ${settings/colors.label-background}
label-muted = "  Ôêê  "
label-muted-background = ${settings/colors.volume-muted}
label-muted-foreground = ${settings/colors.title-foreground}
; label-muted-background = ${settings/colors.label-background}
; label-muted-margin-right = ${spacing.padding}
; label-volume-margin-right = ${spacing.padding}

[module/date]
type = internal/date
interval = 5
date = " %a %m/%d "
format-padding = ${spacing.padding}
format-prefix = "  ÔÅ≥  "
format-prefix-background = ${settings/colors.date}
format-prefix-foreground = ${settings/colors.title-foreground}
label = " %date% "
label-background = ${settings/colors.label-background}

[module/time]
type = internal/date
interval = 5
; 24 hour
time = " %H:%M "
; 12 hour
; time = "%l:%M %p"
format-padding = ${spacing.padding}
format-prefix = "  ÔÄó  "
format-prefix-background = ${settings/colors.time}
format-prefix-foreground = ${settings/colors.title-foreground}
label = " %time% "
label-background = ${settings/colors.label-background}
label-margin-right = ${spacing.padding}

[module/powermenu]
type = custom/menu
label-open = " ÔÉâ "
label-open-margin-right = ${spacing.margin}
label-open-foreground = ${settings/colors.title-foreground}
label-open-background = ${settings/colors.menu}
label-open-padding-left = ${spacing.padding}
label-open-padding-right = ${spacing.padding}

label-close-foreground = ${settings/colors.title-foreground}
label-close-background = ${settings/colors.menu-close}
label-close = "  Ôêê  "

menu-0-0-foreground = ${settings/colors.foreground}
menu-0-0-background = ${settings/colors.label-background}
menu-0-0 = "  LOGOUT  /" 
menu-0-0-exec = "i3-msg exit"

menu-0-1-foreground = ${settings/colors.foreground}
menu-0-1-background = ${settings/colors.label-background}
menu-0-1 = "  RESET  /" 
menu-0-1-exec = "reboot"

menu-0-2-foreground = ${settings/colors.foreground}
menu-0-2-background = ${settings/colors.label-background}
menu-0-2 = "  POWER  "
menu-0-2-exec = "poweroff"
menu-0-2-margin-right = ${spacing.margin}
